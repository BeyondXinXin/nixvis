<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .title }}</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/map/js/china.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/map/js/world.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/tables.css">
    <link rel="stylesheet" href="/static/css/media.css">
</head>

<body>
    <div class="container">
        <header class="header-container">
            <h1>
                <select id="website-selector" class="website-dropdown">
                    <option value="">Âä†ËΩΩ‰∏≠...</option>
                </select> ËÆøÈóÆÁªüËÆ°
            </h1>
            <button id="theme-toggle" class="theme-toggle" title="ÂàáÊç¢‰∏ªÈ¢ò">
                <span class="light-icon">üåô</span>
                <span class="dark-icon">‚òÄÔ∏è</span>
            </button>
        </header>

        <!-- ÁΩëÁ´ôÊï¥‰ΩìÁªüËÆ°ÂíåÊó∂Èó¥ÈÄâÊã© -->
        <div class="box-container controls-box">
            <div class="overall-stats">
                <div class="stat-item">
                    <span class="stat-label">ËÆøÂÆ¢Êï∞(UV):</span>
                    <span class="stat-value" id="total-uv">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ÊµèËßàÈáè(PV):</span>
                    <span class="stat-value" id="total-pv">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ÊµÅÈáè:</span>
                    <span class="stat-value" id="total-traffic">-</span>
                </div>
            </div>

            <div class="control-options">
                <select id="date-range" class="date-range-dropdown">
                    <option value="today">‰ªäÂ§©</option>
                    <option value="yesterday">Êò®Â§©</option>
                    <option value="week">Êú¨Âë®</option>
                    <option value="last7days">ÊúÄËøë7Â§©</option>
                    <option value="month">Êú¨Êúà</option>
                    <option value="last30days">ÊúÄËøë30Â§©</option>
                </select>
            </div>
        </div>

        <!-- ÂõæË°®Â±ïÁ§∫Âå∫ -->
        <div class="box-container chart-box">
            <div class="chart-controls">
                <div class="view-toggle">
                    <button class="data-view-toggle-btn active" data-view="hourly">ÊåâÊó∂</button>
                    <button class="data-view-toggle-btn" data-view="daily">ÊåâÂ§©</button>
                </div>
            </div>
            <canvas id="visitsChart"></canvas>
        </div>


        <!-- ÊéíÂêçÊï∞ÊçÆÔºàÂ∑¶Âè≥Â∏ÉÂ±ÄÔºâ -->
        <div class="box-container rankings-section">
            <div class="rankings-content">
                <!-- ÁΩëÈ°µÊéíÂêç -->
                <div class="ranking-block">
                    <div class="table-wrapper">
                        <table id="url-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="url-col">URL</th>
                                    <th class="uv-col">ËÆøÂÆ¢</th>
                                    <th class="pv-col">ÊµèËßà</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="3">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Êù•Ê∫êÂüüÂêç -->
                <div class="ranking-block">
                    <div class="table-wrapper">
                        <table id="referer-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="domain-col">Êù•Ê∫êÂüüÂêç</th>
                                    <th class="visitor-col">ËÆøÂÆ¢</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="2">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÆ¢Êà∑Á´ØÁªüËÆ°Ôºà‰∏âÁ≠âÂàÜÂ∏ÉÂ±ÄÔºâ -->
        <div class="box-container client-stats-section">
            <div class="client-stats-content">
                <!-- ÊµèËßàÂô®ÁªüËÆ° -->
                <div class="client-block">
                    <div class="table-wrapper">
                        <table id="browser-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="name-col">ÊµèËßàÂô®</th>
                                    <th class="count-col">ËÆøÂÆ¢</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="2">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Êìç‰ΩúÁ≥ªÁªüÁªüËÆ° -->
                <div class="client-block">
                    <div class="table-wrapper">
                        <table id="os-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="name-col">Êìç‰ΩúÁ≥ªÁªü</th>
                                    <th class="count-col">ËÆøÂÆ¢</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="2">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ËÆæÂ§áÁªüËÆ° -->
                <div class="client-block">
                    <div class="table-wrapper">
                        <table id="device-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="name-col">ËÆæÂ§á</th>
                                    <th class="count-col">ËÆøÂÆ¢</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="2">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


        <!-- ÂΩíÂ±ûÂú∞Â±ïÁ§∫Âå∫ -->
        <div class="box-container geo-stats-box">
            <div class="geo-stats-content">
                <!-- Â∑¶‰æßÂú∞ÂõæÂå∫Âüü -->

                <div class="map-block">
                    <div class="geo-controls">
                        <div class="view-toggle">
                            <button class="data-map-toggle-btn active" data-map-view="china">ÂõΩÂÜÖ</button>
                            <button class="data-map-toggle-btn" data-map-view="world">ÂÖ®ÁêÉ</button>
                        </div>
                    </div>
                    <div class="map-container">
                        <div id="geo-map"></div>
                    </div>
                </div>

                <!-- Âè≥‰æßÊéßÂà∂ÂíåÊéíÂêçÂå∫Âüü -->
                <div class="geo-info-block">
                    <!-- Âú∞Âå∫ËÆøÈóÆÊéíÂêç -->
                    <div class="table-wrapper">
                        <table id="geo-ranking-table" class="ranking-table">
                            <thead>
                                <tr>
                                    <th class="region-col">Âú∞Âå∫</th>
                                    <th class="visitor-col">ËÆøÂÆ¢</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="loading-row">
                                    <td colspan="2">Âä†ËΩΩ‰∏≠...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>NixVis - Nginx ÁΩëÁ´ôÊó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑</p>
            <a href="/logs" class="footer-link">Êü•ÁúãÂÆåÊï¥Êó•Âøó</a>
        </footer>

        <script type="module" src="/static/js/main.js"></script>
    </div>
</body>

</html>